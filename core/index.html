
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for CodeSurvey">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../database/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.4">
    
    
      
        <title>Core CodeSurvey - CodeSurvey</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#codesurvey.CodeSurvey" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CodeSurvey" class="md-header__button md-logo" aria-label="CodeSurvey" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CodeSurvey
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Core CodeSurvey
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lean-python-org/codesurvey/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CodeSurvey" class="md-nav__button md-logo" aria-label="CodeSurvey" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CodeSurvey
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lean-python-org/codesurvey/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    README
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Core CodeSurvey
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Core CodeSurvey
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey" class="md-nav__link">
    CodeSurvey
  </a>
  
    <nav class="md-nav" aria-label="CodeSurvey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_repo_features" class="md-nav__link">
    get_repo_features()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_code_features" class="md-nav__link">
    get_code_features()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_survey_tree" class="md-nav__link">
    get_survey_tree()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature" class="md-nav__link">
    RepoFeature
  </a>
  
    <nav class="md-nav" aria-label="RepoFeature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.updated" class="md-nav__link">
    updated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.source_name" class="md-nav__link">
    source_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.repo_key" class="md-nav__link">
    repo_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.analyzer_name" class="md-nav__link">
    analyzer_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.feature_name" class="md-nav__link">
    feature_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.occurrence_count" class="md-nav__link">
    occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.code_occurrence_count" class="md-nav__link">
    code_occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.code_total_count" class="md-nav__link">
    code_total_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.repo_metadata" class="md-nav__link">
    repo_metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature" class="md-nav__link">
    CodeFeature
  </a>
  
    <nav class="md-nav" aria-label="CodeFeature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.updated" class="md-nav__link">
    updated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.source_name" class="md-nav__link">
    source_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.repo_key" class="md-nav__link">
    repo_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.analyzer_name" class="md-nav__link">
    analyzer_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.code_key" class="md-nav__link">
    code_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.feature_name" class="md-nav__link">
    feature_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.occurrence_count" class="md-nav__link">
    occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.occurrences" class="md-nav__link">
    occurrences
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.repo_metadata" class="md-nav__link">
    repo_metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.logger" class="md-nav__link">
    logger
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Results Database
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sources/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Sources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Analyzers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Analyzers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../analyzers/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Analyzers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../analyzers/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Finders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../analyzers/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey" class="md-nav__link">
    CodeSurvey
  </a>
  
    <nav class="md-nav" aria-label="CodeSurvey">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_repo_features" class="md-nav__link">
    get_repo_features()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_code_features" class="md-nav__link">
    get_code_features()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeSurvey.get_survey_tree" class="md-nav__link">
    get_survey_tree()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature" class="md-nav__link">
    RepoFeature
  </a>
  
    <nav class="md-nav" aria-label="RepoFeature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.updated" class="md-nav__link">
    updated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.source_name" class="md-nav__link">
    source_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.repo_key" class="md-nav__link">
    repo_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.analyzer_name" class="md-nav__link">
    analyzer_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.feature_name" class="md-nav__link">
    feature_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.occurrence_count" class="md-nav__link">
    occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.code_occurrence_count" class="md-nav__link">
    code_occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.code_total_count" class="md-nav__link">
    code_total_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.RepoFeature.repo_metadata" class="md-nav__link">
    repo_metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature" class="md-nav__link">
    CodeFeature
  </a>
  
    <nav class="md-nav" aria-label="CodeFeature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.updated" class="md-nav__link">
    updated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.source_name" class="md-nav__link">
    source_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.repo_key" class="md-nav__link">
    repo_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.analyzer_name" class="md-nav__link">
    analyzer_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.code_key" class="md-nav__link">
    code_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.feature_name" class="md-nav__link">
    feature_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.occurrence_count" class="md-nav__link">
    occurrence_count
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.occurrences" class="md-nav__link">
    occurrences
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codesurvey.CodeFeature.repo_metadata" class="md-nav__link">
    repo_metadata
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codesurvey.logger" class="md-nav__link">
    logger
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Core CodeSurvey</h1>

<div class="doc doc-object doc-class">




<h3 id="codesurvey.CodeSurvey" class="doc doc-heading">
          <code>codesurvey.CodeSurvey</code>


</h3>


  <div class="doc doc-contents first">

  
      <p>Primary interface for running surveys and inspecting their results.</p>
<p>A CodeSurvey is instantiated with a set of
<a href="../sources/core/">Sources</a> to be surveyed and a set of
<a href="../analyzers/core/">Analyzers</a> to count the occurrences of
<em>features</em> within them. Each Source may fetch multiple <em>Repos</em>
(e.g. a project directory, a git repository), each of which may
contain multiple <em>Codes</em> (e.g. a source-code file) to be analyzed.
Each Analyzer will be configured to identify a particular set of
<em>features</em> within each Code.</p>
<p>Additional arguments can be passed to
<a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.__init__"><code>__init__()</code></a> to control
persistent storage, parallelism, and other options.</p>
<p>The survey can be executed with
<a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.run"><code>run()</code></a>, which accepts options that
determine the stopping condition for the survey. Multiple calls to
<a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.run"><code>run()</code></a> will extend the results of
the survey.</p>
<p><a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.get_repo_features"><code>get_repo_features()</code></a>,
<a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.get_code_features"><code>get_code_features()</code></a>,
and <a class="autorefs autorefs-internal" href="#codesurvey.CodeSurvey.get_survey_tree"><code>get_survey_tree()</code></a>
can be used to inspect the results of the survey.</p>
<p>Previous survey results can be loaded for inspection specifying
the same <code>db_filepath</code> used for previous survey run(s).</p>

            <details class="quote">
              <summary>Source code in <code>codesurvey/core.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CodeSurvey</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Primary interface for running surveys and inspecting their results.</span>

<span class="sd">    A CodeSurvey is instantiated with a set of</span>
<span class="sd">    [Sources](sources/core.md) to be surveyed and a set of</span>
<span class="sd">    [Analyzers](analyzers/core.md) to count the occurrences of</span>
<span class="sd">    *features* within them. Each Source may fetch multiple *Repos*</span>
<span class="sd">    (e.g. a project directory, a git repository), each of which may</span>
<span class="sd">    contain multiple *Codes* (e.g. a source-code file) to be analyzed.</span>
<span class="sd">    Each Analyzer will be configured to identify a particular set of</span>
<span class="sd">    *features* within each Code.</span>

<span class="sd">    Additional arguments can be passed to</span>
<span class="sd">    [`__init__()`][codesurvey.CodeSurvey.__init__] to control</span>
<span class="sd">    persistent storage, parallelism, and other options.</span>

<span class="sd">    The survey can be executed with</span>
<span class="sd">    [`run()`][codesurvey.CodeSurvey.run], which accepts options that</span>
<span class="sd">    determine the stopping condition for the survey. Multiple calls to</span>
<span class="sd">    [`run()`][codesurvey.CodeSurvey.run] will extend the results of</span>
<span class="sd">    the survey.</span>

<span class="sd">    [`get_repo_features()`][codesurvey.CodeSurvey.get_repo_features],</span>
<span class="sd">    [`get_code_features()`][codesurvey.CodeSurvey.get_code_features],</span>
<span class="sd">    and [`get_survey_tree()`][codesurvey.CodeSurvey.get_survey_tree]</span>
<span class="sd">    can be used to inspect the results of the survey.</span>

<span class="sd">    Previous survey results can be loaded for inspection specifying</span>
<span class="sd">    the same `db_filepath` used for previous survey run(s).</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                 <span class="n">sources</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Source</span><span class="p">],</span>
                 <span class="n">analyzers</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Analyzer</span><span class="p">],</span>
                 <span class="n">db_filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;:memory:&#39;</span><span class="p">,</span>
                 <span class="n">max_workers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                 <span class="n">continue_on_failure</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">save_code_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">save_occurrences</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">use_saved_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            sources: Sources from which to fetch Repos of Codes</span>
<span class="sd">                to survey. If multiple Sources are provided, Repo fetching</span>
<span class="sd">                will cycle through them in a round-robin fashion.</span>
<span class="sd">            analyzers: Analyzers to identify features in fetched code.</span>
<span class="sd">            db_filepath: Path to an sqlite database file for persisting survey</span>
<span class="sd">                results. Creates a new sqlite database if the path does not</span>
<span class="sd">                exist. Defaults to a non-persistent in-memory database.</span>
<span class="sd">            max_workers: The maximum number of parallel worker processes for</span>
<span class="sd">                fetching Repos from Sources and executing Analyzers. Defaults</span>
<span class="sd">                to a single worker.</span>
<span class="sd">            continue_on_failure: If `True`, exceptions raised by Sources and</span>
<span class="sd">                Analyzers will be logged, but will not halt the survey.</span>
<span class="sd">            save_code_features: If `True`, features of individual Codes will be</span>
<span class="sd">                retained in the survey database. Otherwise, Code features will</span>
<span class="sd">                be deleted once they have been used to compute aggregate</span>
<span class="sd">                features of its respective Repo.</span>
<span class="sd">            save_occurrences: If `True`, occurrence objects returned by</span>
<span class="sd">                FeatureFinders will be saved in the survey database.</span>
<span class="sd">            use_saved_features: If `True`, re-use saved features from an</span>
<span class="sd">                Analyzer for a Code when they already exist in the survey</span>
<span class="sd">                database. Otherwise, reapply all Analyzers to all Codes.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: Invalid survey configuration was specified.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">duplicate_source_names</span> <span class="o">=</span> <span class="n">get_duplicates</span><span class="p">([</span><span class="n">source</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">duplicate_source_names</span><span class="p">:</span>
            <span class="n">duplicate_sources_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">duplicate_source_names</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">((</span><span class="s1">&#39;Cannot instantiate CodeSurvey with duplicate &#39;</span>
                              <span class="sa">f</span><span class="s1">&#39;source names: </span><span class="si">{</span><span class="n">duplicate_sources_str</span><span class="si">}</span><span class="s1">. &#39;</span>
                              <span class="s1">&#39;Please set a unique name for each source.&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="p">{</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">source</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">}</span>

        <span class="n">duplicate_analyzer_names</span> <span class="o">=</span> <span class="n">get_duplicates</span><span class="p">([</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">duplicate_analyzer_names</span><span class="p">:</span>
            <span class="n">duplicate_analyzers_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">duplicate_analyzer_names</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">((</span><span class="s1">&#39;Cannot instantiate CodeSurvey with duplicate &#39;</span>
                              <span class="sa">f</span><span class="s1">&#39;analyzer names: </span><span class="si">{</span><span class="n">duplicate_analyzers_str</span><span class="si">}</span><span class="s1">. &#39;</span>
                              <span class="s1">&#39;Please set a unique name for each analyzer.&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analyzers</span> <span class="o">=</span> <span class="p">{</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">analyzer</span> <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">analyzer_features</span> <span class="o">=</span> <span class="p">{</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
                                  <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db_filepath</span> <span class="o">=</span> <span class="n">db_filepath</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_workers</span> <span class="o">=</span> <span class="n">max_workers</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">continue_on_failure</span> <span class="o">=</span> <span class="n">continue_on_failure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_code_features</span> <span class="o">=</span> <span class="n">save_code_features</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_occurrences</span> <span class="o">=</span> <span class="n">save_occurrences</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_saved_features</span> <span class="o">=</span> <span class="n">use_saved_features</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_runner</span> <span class="o">=</span> <span class="n">CodeSurveyRunner</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the Database that persists survey results.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Database</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_filepath</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
            <span class="n">max_repos</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">max_codes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">disable_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">progress_analyzer_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the survey by fetching code from sources and applying analyzers.</span>

<span class="sd">        If neither of the `max_repos` nor `max_codes` stopping</span>
<span class="sd">        conditions is specified, the survey will continue running</span>
<span class="sd">        until a `KeyboardInterrupt` exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            max_repos: If specified, the run will stop after analysing this</span>
<span class="sd">                many Repos.</span>
<span class="sd">            max_codes: If specified, the run will stop after analysing this</span>
<span class="sd">                many Codes.</span>
<span class="sd">            disable_progress: If `True`, do not display tqdm progress bars</span>
<span class="sd">                counting Repos and Codes analyzed.</span>
<span class="sd">            progress_analyzer_features: Mapping of analyzer names to sequences</span>
<span class="sd">                of feature names for which progress trackers should be</span>
<span class="sd">                displayed to count Repos found with those features. Defaults</span>
<span class="sd">                to all features, but disables feature progress trackers with</span>
<span class="sd">                a warning when there are more than 10 features.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">max_repos</span><span class="o">=</span><span class="n">max_repos</span><span class="p">,</span>
            <span class="n">max_codes</span><span class="o">=</span><span class="n">max_codes</span><span class="p">,</span>
            <span class="n">disable_progress</span><span class="o">=</span><span class="n">disable_progress</span><span class="p">,</span>
            <span class="n">progress_analyzer_features</span><span class="o">=</span><span class="n">progress_analyzer_features</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_repo_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                          <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RepoFeature</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns RepoFeatures of surveyed Repos.</span>

<span class="sd">        Args:</span>
<span class="sd">            source_names: If specified, only features from the named Sources</span>
<span class="sd">                will be returned.</span>
<span class="sd">            analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">                will be returned.</span>
<span class="sd">            feature_names: If specified, only results for the named features</span>
<span class="sd">                will be returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_db</span><span class="p">()</span><span class="o">.</span><span class="n">get_repo_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                               <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                               <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_code_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                          <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                          <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CodeFeature</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns CodeFeatures of surveyed Codes.</span>

<span class="sd">        Only returns results from runs where `save_code_results` was `True`.</span>

<span class="sd">        Args:</span>
<span class="sd">            source_names: If specified, only features from the named Sources</span>
<span class="sd">                will be returned.</span>
<span class="sd">            analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">                will be returned.</span>
<span class="sd">            feature_names: If specified, only results for the named features</span>
<span class="sd">                will be returned.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_db</span><span class="p">()</span><span class="o">.</span><span class="n">get_code_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                               <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                               <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_survey_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                        <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns surveyed CodeFeatures and RepoFeatures structured under a</span>
<span class="sd">        tree structure of Sources, Repos, and Analyzers.</span>

<span class="sd">        Args:</span>
<span class="sd">            source_names: If specified, only features from the named Sources</span>
<span class="sd">                will be returned.</span>
<span class="sd">            analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">                will be returned.</span>
<span class="sd">            feature_names: If specified, only results for the named features</span>
<span class="sd">                will be returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary with the following structure:</span>
<span class="sd">                ```python</span>
<span class="sd">                {</span>
<span class="sd">                    &#39;sources&#39;: {</span>
<span class="sd">                        &#39;&lt;source_name&gt;&#39;: {</span>
<span class="sd">                            &#39;repos: {</span>
<span class="sd">                                &#39;&lt;repo_key&gt;&#39;: {</span>
<span class="sd">                                    &#39;analyzers&#39;: {</span>
<span class="sd">                                        &#39;&lt;analyzer_name&gt;&#39;: {</span>
<span class="sd">                                            &#39;features&#39;: {</span>
<span class="sd">                                                &#39;updated&#39;: datetime(...),</span>
<span class="sd">                                                &#39;occurence_count&#39;: int(...),</span>
<span class="sd">                                                &#39;code_occurrence_count&#39;: int(...),</span>
<span class="sd">                                                &#39;code_total_count&#39;: int(...),</span>
<span class="sd">                                            },</span>
<span class="sd">                                            # &#39;codes&#39; key is only present if</span>
<span class="sd">                                            # survey runs are performed with</span>
<span class="sd">                                            # `save_code_features=True`</span>
<span class="sd">                                            &#39;codes&#39;: {</span>
<span class="sd">                                                &#39;&lt;code_key&gt;&#39;: {</span>
<span class="sd">                                                    &#39;features&#39;: {</span>
<span class="sd">                                                        &#39;&lt;feature_name&gt;&#39;: {</span>
<span class="sd">                                                            &#39;updated&#39;: datetime(...),</span>
<span class="sd">                                                            &#39;occurence_count&#39;: int(...),</span>
<span class="sd">                                                        },</span>
<span class="sd">                                                        ...</span>
<span class="sd">                                                    }</span>
<span class="sd">                                                },</span>
<span class="sd">                                                ...</span>
<span class="sd">                                            }</span>
<span class="sd">                                        },</span>
<span class="sd">                                        ...</span>
<span class="sd">                                    },</span>
<span class="sd">                                    &#39;repo_metadata&#39;: {</span>
<span class="sd">                                        &#39;&lt;metadata_key&gt;&#39;: ...,</span>
<span class="sd">                                        ...</span>
<span class="sd">                                    }</span>
<span class="sd">                                },</span>
<span class="sd">                                ...</span>
<span class="sd">                            }</span>
<span class="sd">                        },</span>
<span class="sd">                        ...</span>
<span class="sd">                    }</span>
<span class="sd">                }</span>
<span class="sd">                ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{}}</span>
        <span class="n">code_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_code_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                               <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                               <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">code_features</span><span class="p">:</span>
            <span class="n">recursive_update</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">{</span>
                <span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">source_name</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;repos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">repo_key</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;analyzers&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">analyzer_name</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;codes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">code_key</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">feature_name</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                                    <span class="s1">&#39;occurrence_count&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">occurrence_count</span><span class="p">,</span>
                                    <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">occurrences</span><span class="p">,</span>
                                <span class="p">}}</span>
                            <span class="p">}}</span>
                        <span class="p">}},</span>
                        <span class="s1">&#39;repo_metadata&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">repo_metadata</span><span class="p">,</span>
                    <span class="p">}}</span>
                <span class="p">}}</span>
            <span class="p">})</span>
        <span class="n">repo_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_repo_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                               <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">repo_features</span><span class="p">:</span>
            <span class="n">recursive_update</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">{</span>
                <span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">source_name</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;repos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">repo_key</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;analyzers&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">analyzer_name</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">feature_name</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                                <span class="s1">&#39;occurrence_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">occurrence_count</span><span class="p">,</span>
                                <span class="s1">&#39;code_occurrence_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">code_occurrence_count</span><span class="p">,</span>
                                <span class="s1">&#39;code_total_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">code_total_count</span><span class="p">,</span>
                            <span class="p">}},</span>
                        <span class="p">}},</span>
                        <span class="s1">&#39;repo_metadata&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">repo_metadata</span><span class="p">,</span>
                    <span class="p">}}</span>
                <span class="p">}}</span>
            <span class="p">})</span>
        <span class="k">return</span> <span class="n">tree</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="codesurvey.CodeSurvey.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">sources</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Source</span><span class="p">],</span> <span class="n">analyzers</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Analyzer</span><span class="p">],</span> <span class="n">db_filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;:memory:&#39;</span><span class="p">,</span> <span class="n">max_workers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">continue_on_failure</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">save_code_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">save_occurrences</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">use_saved_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>sources</b>
            (<code><span title="typing.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="codesurvey.sources.Source" href="../sources/core/#codesurvey.sources.Source">Source</a>]</code>)
        –
        <div class="doc-md-description">
          <p>Sources from which to fetch Repos of Codes
to survey. If multiple Sources are provided, Repo fetching
will cycle through them in a round-robin fashion.</p>
        </div>
      </li>
      <li class="field-body">
        <b>analyzers</b>
            (<code><span title="typing.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="codesurvey.analyzers.Analyzer" href="../analyzers/core/#codesurvey.analyzers.Analyzer">Analyzer</a>]</code>)
        –
        <div class="doc-md-description">
          <p>Analyzers to identify features in fetched code.</p>
        </div>
      </li>
      <li class="field-body">
        <b>db_filepath</b>
            (<code>str</code>, default:
                <code>&#39;:memory:&#39;</code>
)
        –
        <div class="doc-md-description">
          <p>Path to an sqlite database file for persisting survey
results. Creates a new sqlite database if the path does not
exist. Defaults to a non-persistent in-memory database.</p>
        </div>
      </li>
      <li class="field-body">
        <b>max_workers</b>
            (<code><span title="typing.Optional">Optional</span>[int]</code>, default:
                <code>1</code>
)
        –
        <div class="doc-md-description">
          <p>The maximum number of parallel worker processes for
fetching Repos from Sources and executing Analyzers. Defaults
to a single worker.</p>
        </div>
      </li>
      <li class="field-body">
        <b>continue_on_failure</b>
            (<code>bool</code>, default:
                <code>True</code>
)
        –
        <div class="doc-md-description">
          <p>If <code>True</code>, exceptions raised by Sources and
Analyzers will be logged, but will not halt the survey.</p>
        </div>
      </li>
      <li class="field-body">
        <b>save_code_features</b>
            (<code>bool</code>, default:
                <code>True</code>
)
        –
        <div class="doc-md-description">
          <p>If <code>True</code>, features of individual Codes will be
retained in the survey database. Otherwise, Code features will
be deleted once they have been used to compute aggregate
features of its respective Repo.</p>
        </div>
      </li>
      <li class="field-body">
        <b>save_occurrences</b>
            (<code>bool</code>, default:
                <code>True</code>
)
        –
        <div class="doc-md-description">
          <p>If <code>True</code>, occurrence objects returned by
FeatureFinders will be saved in the survey database.</p>
        </div>
      </li>
      <li class="field-body">
        <b>use_saved_features</b>
            (<code>bool</code>, default:
                <code>True</code>
)
        –
        <div class="doc-md-description">
          <p>If <code>True</code>, re-use saved features from an
Analyzer for a Code when they already exist in the survey
database. Otherwise, reapply all Analyzers to all Codes.</p>
        </div>
      </li>
  </ul>



  <p>Raises:</p>
  <ul>
      <li class="field-body">
            <code>ValueError</code>
          –
        <div class="doc-md-description">
          <p>Invalid survey configuration was specified.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>codesurvey/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
             <span class="n">sources</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Source</span><span class="p">],</span>
             <span class="n">analyzers</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Analyzer</span><span class="p">],</span>
             <span class="n">db_filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;:memory:&#39;</span><span class="p">,</span>
             <span class="n">max_workers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
             <span class="n">continue_on_failure</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">save_code_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">save_occurrences</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">use_saved_features</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        sources: Sources from which to fetch Repos of Codes</span>
<span class="sd">            to survey. If multiple Sources are provided, Repo fetching</span>
<span class="sd">            will cycle through them in a round-robin fashion.</span>
<span class="sd">        analyzers: Analyzers to identify features in fetched code.</span>
<span class="sd">        db_filepath: Path to an sqlite database file for persisting survey</span>
<span class="sd">            results. Creates a new sqlite database if the path does not</span>
<span class="sd">            exist. Defaults to a non-persistent in-memory database.</span>
<span class="sd">        max_workers: The maximum number of parallel worker processes for</span>
<span class="sd">            fetching Repos from Sources and executing Analyzers. Defaults</span>
<span class="sd">            to a single worker.</span>
<span class="sd">        continue_on_failure: If `True`, exceptions raised by Sources and</span>
<span class="sd">            Analyzers will be logged, but will not halt the survey.</span>
<span class="sd">        save_code_features: If `True`, features of individual Codes will be</span>
<span class="sd">            retained in the survey database. Otherwise, Code features will</span>
<span class="sd">            be deleted once they have been used to compute aggregate</span>
<span class="sd">            features of its respective Repo.</span>
<span class="sd">        save_occurrences: If `True`, occurrence objects returned by</span>
<span class="sd">            FeatureFinders will be saved in the survey database.</span>
<span class="sd">        use_saved_features: If `True`, re-use saved features from an</span>
<span class="sd">            Analyzer for a Code when they already exist in the survey</span>
<span class="sd">            database. Otherwise, reapply all Analyzers to all Codes.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: Invalid survey configuration was specified.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">duplicate_source_names</span> <span class="o">=</span> <span class="n">get_duplicates</span><span class="p">([</span><span class="n">source</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">duplicate_source_names</span><span class="p">:</span>
        <span class="n">duplicate_sources_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">duplicate_source_names</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">((</span><span class="s1">&#39;Cannot instantiate CodeSurvey with duplicate &#39;</span>
                          <span class="sa">f</span><span class="s1">&#39;source names: </span><span class="si">{</span><span class="n">duplicate_sources_str</span><span class="si">}</span><span class="s1">. &#39;</span>
                          <span class="s1">&#39;Please set a unique name for each source.&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="p">{</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">source</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">}</span>

    <span class="n">duplicate_analyzer_names</span> <span class="o">=</span> <span class="n">get_duplicates</span><span class="p">([</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">duplicate_analyzer_names</span><span class="p">:</span>
        <span class="n">duplicate_analyzers_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">duplicate_analyzer_names</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">((</span><span class="s1">&#39;Cannot instantiate CodeSurvey with duplicate &#39;</span>
                          <span class="sa">f</span><span class="s1">&#39;analyzer names: </span><span class="si">{</span><span class="n">duplicate_analyzers_str</span><span class="si">}</span><span class="s1">. &#39;</span>
                          <span class="s1">&#39;Please set a unique name for each analyzer.&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">analyzers</span> <span class="o">=</span> <span class="p">{</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">analyzer</span> <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">analyzer_features</span> <span class="o">=</span> <span class="p">{</span><span class="n">analyzer</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
                              <span class="k">for</span> <span class="n">analyzer</span> <span class="ow">in</span> <span class="n">analyzers</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">db_filepath</span> <span class="o">=</span> <span class="n">db_filepath</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_workers</span> <span class="o">=</span> <span class="n">max_workers</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span> <span class="ow">or</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">continue_on_failure</span> <span class="o">=</span> <span class="n">continue_on_failure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_code_features</span> <span class="o">=</span> <span class="n">save_code_features</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_occurrences</span> <span class="o">=</span> <span class="n">save_occurrences</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">use_saved_features</span> <span class="o">=</span> <span class="n">use_saved_features</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_runner</span> <span class="o">=</span> <span class="n">CodeSurveyRunner</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="codesurvey.CodeSurvey.run" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">max_repos</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_codes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">disable_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">progress_analyzer_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Runs the survey by fetching code from sources and applying analyzers.</p>
<p>If neither of the <code>max_repos</code> nor <code>max_codes</code> stopping
conditions is specified, the survey will continue running
until a <code>KeyboardInterrupt</code> exception.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>max_repos</b>
            (<code><span title="typing.Optional">Optional</span>[int]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, the run will stop after analysing this
many Repos.</p>
        </div>
      </li>
      <li class="field-body">
        <b>max_codes</b>
            (<code><span title="typing.Optional">Optional</span>[int]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, the run will stop after analysing this
many Codes.</p>
        </div>
      </li>
      <li class="field-body">
        <b>disable_progress</b>
            (<code>bool</code>, default:
                <code>False</code>
)
        –
        <div class="doc-md-description">
          <p>If <code>True</code>, do not display tqdm progress bars
counting Repos and Codes analyzed.</p>
        </div>
      </li>
      <li class="field-body">
        <b>progress_analyzer_features</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Mapping">Mapping</span>[str, <span title="typing.Sequence">Sequence</span>[str]]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>Mapping of analyzer names to sequences
of feature names for which progress trackers should be
displayed to count Repos found with those features. Defaults
to all features, but disables feature progress trackers with
a warning when there are more than 10 features.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>codesurvey/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
        <span class="n">max_repos</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_codes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">disable_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">progress_analyzer_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the survey by fetching code from sources and applying analyzers.</span>

<span class="sd">    If neither of the `max_repos` nor `max_codes` stopping</span>
<span class="sd">    conditions is specified, the survey will continue running</span>
<span class="sd">    until a `KeyboardInterrupt` exception.</span>

<span class="sd">    Args:</span>
<span class="sd">        max_repos: If specified, the run will stop after analysing this</span>
<span class="sd">            many Repos.</span>
<span class="sd">        max_codes: If specified, the run will stop after analysing this</span>
<span class="sd">            many Codes.</span>
<span class="sd">        disable_progress: If `True`, do not display tqdm progress bars</span>
<span class="sd">            counting Repos and Codes analyzed.</span>
<span class="sd">        progress_analyzer_features: Mapping of analyzer names to sequences</span>
<span class="sd">            of feature names for which progress trackers should be</span>
<span class="sd">            displayed to count Repos found with those features. Defaults</span>
<span class="sd">            to all features, but disables feature progress trackers with</span>
<span class="sd">            a warning when there are more than 10 features.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">max_repos</span><span class="o">=</span><span class="n">max_repos</span><span class="p">,</span>
        <span class="n">max_codes</span><span class="o">=</span><span class="n">max_codes</span><span class="p">,</span>
        <span class="n">disable_progress</span><span class="o">=</span><span class="n">disable_progress</span><span class="p">,</span>
        <span class="n">progress_analyzer_features</span><span class="o">=</span><span class="n">progress_analyzer_features</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="codesurvey.CodeSurvey.get_repo_features" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_repo_features</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RepoFeature</span><span class="p">]</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Returns RepoFeatures of surveyed Repos.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>source_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Sources
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>analyzer_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Analyzers
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>feature_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only results for the named features
will be returned.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>codesurvey/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_repo_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                      <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RepoFeature</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns RepoFeatures of surveyed Repos.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_names: If specified, only features from the named Sources</span>
<span class="sd">            will be returned.</span>
<span class="sd">        analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">            will be returned.</span>
<span class="sd">        feature_names: If specified, only results for the named features</span>
<span class="sd">            will be returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_db</span><span class="p">()</span><span class="o">.</span><span class="n">get_repo_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                           <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                           <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="codesurvey.CodeSurvey.get_code_features" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_code_features</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CodeFeature</span><span class="p">]</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Returns CodeFeatures of surveyed Codes.</p>
<p>Only returns results from runs where <code>save_code_results</code> was <code>True</code>.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>source_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Sources
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>analyzer_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Analyzers
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>feature_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only results for the named features
will be returned.</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>codesurvey/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_code_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                      <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                      <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">CodeFeature</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns CodeFeatures of surveyed Codes.</span>

<span class="sd">    Only returns results from runs where `save_code_results` was `True`.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_names: If specified, only features from the named Sources</span>
<span class="sd">            will be returned.</span>
<span class="sd">        analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">            will be returned.</span>
<span class="sd">        feature_names: If specified, only results for the named features</span>
<span class="sd">            will be returned.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_db</span><span class="p">()</span><span class="o">.</span><span class="n">get_code_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                           <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                           <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="codesurvey.CodeSurvey.get_survey_tree" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_survey_tree</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Returns surveyed CodeFeatures and RepoFeatures structured under a
tree structure of Sources, Repos, and Analyzers.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b>source_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Sources
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>analyzer_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only features from the named Analyzers
will be returned.</p>
        </div>
      </li>
      <li class="field-body">
        <b>feature_names</b>
            (<code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>, default:
                <code>None</code>
)
        –
        <div class="doc-md-description">
          <p>If specified, only results for the named features
will be returned.</p>
        </div>
      </li>
  </ul>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><span title="typing.Dict">Dict</span></code>
        –
        <div class="doc-md-description">
          <p>A dictionary with the following structure:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;&lt;source_name&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;repos: {</span>
                <span class="s1">&#39;&lt;repo_key&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;analyzers&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;&lt;analyzer_name&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                                <span class="s1">&#39;occurence_count&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                                <span class="s1">&#39;code_occurrence_count&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                                <span class="s1">&#39;code_total_count&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                            <span class="p">},</span>
                            <span class="c1"># &#39;codes&#39; key is only present if</span>
                            <span class="c1"># survey runs are performed with</span>
                            <span class="c1"># `save_code_features=True`</span>
                            <span class="s1">&#39;codes&#39;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;&lt;code_key&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
                                    <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="s1">&#39;&lt;feature_name&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
                                            <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                                            <span class="s1">&#39;occurence_count&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                                        <span class="p">},</span>
                                        <span class="o">...</span>
                                    <span class="p">}</span>
                                <span class="p">},</span>
                                <span class="o">...</span>
                            <span class="p">}</span>
                        <span class="p">},</span>
                        <span class="o">...</span>
                    <span class="p">},</span>
                    <span class="s1">&#39;repo_metadata&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;&lt;metadata_key&gt;&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
                        <span class="o">...</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="o">...</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>codesurvey/core.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_survey_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                    <span class="n">source_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">analyzer_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">feature_names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns surveyed CodeFeatures and RepoFeatures structured under a</span>
<span class="sd">    tree structure of Sources, Repos, and Analyzers.</span>

<span class="sd">    Args:</span>
<span class="sd">        source_names: If specified, only features from the named Sources</span>
<span class="sd">            will be returned.</span>
<span class="sd">        analyzer_names: If specified, only features from the named Analyzers</span>
<span class="sd">            will be returned.</span>
<span class="sd">        feature_names: If specified, only results for the named features</span>
<span class="sd">            will be returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary with the following structure:</span>
<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                &#39;sources&#39;: {</span>
<span class="sd">                    &#39;&lt;source_name&gt;&#39;: {</span>
<span class="sd">                        &#39;repos: {</span>
<span class="sd">                            &#39;&lt;repo_key&gt;&#39;: {</span>
<span class="sd">                                &#39;analyzers&#39;: {</span>
<span class="sd">                                    &#39;&lt;analyzer_name&gt;&#39;: {</span>
<span class="sd">                                        &#39;features&#39;: {</span>
<span class="sd">                                            &#39;updated&#39;: datetime(...),</span>
<span class="sd">                                            &#39;occurence_count&#39;: int(...),</span>
<span class="sd">                                            &#39;code_occurrence_count&#39;: int(...),</span>
<span class="sd">                                            &#39;code_total_count&#39;: int(...),</span>
<span class="sd">                                        },</span>
<span class="sd">                                        # &#39;codes&#39; key is only present if</span>
<span class="sd">                                        # survey runs are performed with</span>
<span class="sd">                                        # `save_code_features=True`</span>
<span class="sd">                                        &#39;codes&#39;: {</span>
<span class="sd">                                            &#39;&lt;code_key&gt;&#39;: {</span>
<span class="sd">                                                &#39;features&#39;: {</span>
<span class="sd">                                                    &#39;&lt;feature_name&gt;&#39;: {</span>
<span class="sd">                                                        &#39;updated&#39;: datetime(...),</span>
<span class="sd">                                                        &#39;occurence_count&#39;: int(...),</span>
<span class="sd">                                                    },</span>
<span class="sd">                                                    ...</span>
<span class="sd">                                                }</span>
<span class="sd">                                            },</span>
<span class="sd">                                            ...</span>
<span class="sd">                                        }</span>
<span class="sd">                                    },</span>
<span class="sd">                                    ...</span>
<span class="sd">                                },</span>
<span class="sd">                                &#39;repo_metadata&#39;: {</span>
<span class="sd">                                    &#39;&lt;metadata_key&gt;&#39;: ...,</span>
<span class="sd">                                    ...</span>
<span class="sd">                                }</span>
<span class="sd">                            },</span>
<span class="sd">                            ...</span>
<span class="sd">                        }</span>
<span class="sd">                    },</span>
<span class="sd">                    ...</span>
<span class="sd">                }</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{}}</span>
    <span class="n">code_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_code_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                           <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">,</span>
                                           <span class="n">feature_names</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">code_features</span><span class="p">:</span>
        <span class="n">recursive_update</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">source_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;repos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">repo_key</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;analyzers&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">analyzer_name</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;codes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">code_key</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">feature_name</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                                <span class="s1">&#39;occurrence_count&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">occurrence_count</span><span class="p">,</span>
                                <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">occurrences</span><span class="p">,</span>
                            <span class="p">}}</span>
                        <span class="p">}}</span>
                    <span class="p">}},</span>
                    <span class="s1">&#39;repo_metadata&#39;</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">repo_metadata</span><span class="p">,</span>
                <span class="p">}}</span>
            <span class="p">}}</span>
        <span class="p">})</span>
    <span class="n">repo_features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_repo_features</span><span class="p">(</span><span class="n">source_names</span><span class="o">=</span><span class="n">source_names</span><span class="p">,</span>
                                           <span class="n">analyzer_names</span><span class="o">=</span><span class="n">analyzer_names</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">repo_features</span><span class="p">:</span>
        <span class="n">recursive_update</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;sources&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">source_name</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;repos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">repo_key</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;analyzers&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">analyzer_name</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">feature_name</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;updated&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
                            <span class="s1">&#39;occurrence_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">occurrence_count</span><span class="p">,</span>
                            <span class="s1">&#39;code_occurrence_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">code_occurrence_count</span><span class="p">,</span>
                            <span class="s1">&#39;code_total_count&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">code_total_count</span><span class="p">,</span>
                        <span class="p">}},</span>
                    <span class="p">}},</span>
                    <span class="s1">&#39;repo_metadata&#39;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">repo_metadata</span><span class="p">,</span>
                <span class="p">}}</span>
            <span class="p">}}</span>
        <span class="p">})</span>
    <span class="k">return</span> <span class="n">tree</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h3 id="codesurvey.RepoFeature" class="doc doc-heading">
          <code>codesurvey.RepoFeature</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


  <div class="doc doc-contents first">


            <details class="quote">
              <summary>Source code in <code>codesurvey/database.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RepoFeature</span><span class="p">:</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Timestamp when this analysis was last updated.&quot;&quot;&quot;</span>

    <span class="n">source_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the Source that produced the target Repo.&quot;&quot;&quot;</span>

    <span class="n">repo_key</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Key identifying the target Repo within the Source.&quot;&quot;&quot;</span>

    <span class="n">analyzer_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the Analyzer that produced this feature.&quot;&quot;&quot;</span>

    <span class="n">feature_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the analyzed feature.&quot;&quot;&quot;</span>

    <span class="n">occurrence_count</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of occurrences of this feature within the Repo.&quot;&quot;&quot;</span>

    <span class="n">code_occurrence_count</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of Codes within the Repo containing this feature.&quot;&quot;&quot;</span>

    <span class="n">code_total_count</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Total number of Codes analyzed for this feature within the Repo.&quot;&quot;&quot;</span>

    <span class="n">repo_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Metadata of the Repo provided by the Source.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.updated" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Timestamp when this analysis was last updated.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.source_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">source_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the Source that produced the target Repo.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.repo_key" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">repo_key</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Key identifying the target Repo within the Source.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.analyzer_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">analyzer_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the Analyzer that produced this feature.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.feature_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">feature_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the analyzed feature.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.occurrence_count" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">occurrence_count</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Number of occurrences of this feature within the Repo.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.code_occurrence_count" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">code_occurrence_count</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Number of Codes within the Repo containing this feature.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.code_total_count" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">code_total_count</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Total number of Codes analyzed for this feature within the Repo.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.RepoFeature.repo_metadata" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">repo_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Metadata of the Repo provided by the Source.</p>
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h3 id="codesurvey.CodeFeature" class="doc doc-heading">
          <code>codesurvey.CodeFeature</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


  <div class="doc doc-contents first">


            <details class="quote">
              <summary>Source code in <code>codesurvey/database.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CodeFeature</span><span class="p">:</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Timestamp when this analysis was last updated.&quot;&quot;&quot;</span>

    <span class="n">source_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the Source that produced the target Repo.&quot;&quot;&quot;</span>

    <span class="n">repo_key</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Key identifying the target Repo within the Source.&quot;&quot;&quot;</span>

    <span class="n">analyzer_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the Analyzer that produced this feature.&quot;&quot;&quot;</span>

    <span class="n">code_key</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Key idenfitying the target Code within the Repo.&quot;&quot;&quot;</span>

    <span class="n">feature_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of the analyzed feature.&quot;&quot;&quot;</span>

    <span class="n">occurrence_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of occurrences of this feature within the Code, or `None` if</span>
<span class="sd">    analysis of this Code was skipped.&quot;&quot;&quot;</span>

    <span class="n">occurrences</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Original occurrence objects returned by FeatureFinders.&quot;&quot;&quot;</span>

    <span class="n">repo_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Metadata of the Repo provided by the Source.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.updated" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">updated</span><span class="p">:</span> <span class="n">datetime</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Timestamp when this analysis was last updated.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.source_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">source_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the Source that produced the target Repo.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.repo_key" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">repo_key</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Key identifying the target Repo within the Source.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.analyzer_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">analyzer_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the Analyzer that produced this feature.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.code_key" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">code_key</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Key idenfitying the target Code within the Repo.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.feature_name" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">feature_name</span><span class="p">:</span> <span class="nb">str</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Name of the analyzed feature.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.occurrence_count" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">occurrence_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Number of occurrences of this feature within the Code, or <code>None</code> if
analysis of this Code was skipped.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.occurrences" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">occurrences</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Original occurrence objects returned by FeatureFinders.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="codesurvey.CodeFeature.repo_metadata" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">repo_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>Metadata of the Repo provided by the Source.</p>
  </div>

</div>





  </div>

  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="codesurvey.logger" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">codesurvey</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h3>


  <div class="doc doc-contents first">
  
      <p><code>logging.Logger</code> object that codesurvey logs events to during survey runs.</p>
<p>Can be used to customize logging:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">codesurvey</span> <span class="kn">import</span> <span class="n">logger</span>

<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</code></pre></div>
  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "navigation.sections", "navigation.expand"], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>